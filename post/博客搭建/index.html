<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>博客搭建 | Atmet</title><meta name=keywords content="Daily"><meta name=description content="博客搭建 hugo hugo官方网站
需求准备： 软件包管理工具
  Hugo:Releases · gohugoio/hugo (github.com)
安装步骤 1.解压压缩包
2.配置环境变量
D:\Env\hugo_0.83.1 3.初始化博客
先上官方安装文档，避免踩坑：Installation · adityatelange/hugo-PaperMod Wiki (github.com)
官方文档推荐我们使用易读性更高的yml初始化博客
hugo new site <name of site> -f yml 4.选择主题:Complete List | Hugo Themes (gohugo.io)
5.在config.yml文件中指定主题，此处以PaperMod为例
theme: PaperMod6.启动服务，本地查看效果
hugo server7.创建仓库，详见之后的hexo主题教学
8.将config.yml中的baseUrl修改为自己创建的仓库
baseURL: &#34;https://<username>.github.io/&#34;9.在网站文件夹根目录下打开cmd命令行，生成public文件夹
hugo10.切换到public文件夹，把所有文件push到GitHub即可
11.链接到远程服务器代码仓库并push到GitHub，由于现在的GitHub默认为main分支了，我们需要先进行修改
# 配置代理 git config --global http.proxy socks5://127.0.0.1:port git config --global https.proxy socks5://127.0.0.1:port # 更改默认分支 git push -u origin main # push文件 cd public git init git add ."><meta name=author content="DaChui"><link rel=canonical href=https://oopsdc.github.io/post/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/><link href=/assets/css/stylesheet.min.746a86b58bb2b052b5e4df8216510494f04f81e62c08d626150c26c69ca929da.css integrity="sha256-dGqGtYuysFK15N+CFlEElPBPgeYsCNYmFQwmxpypKdo=" rel="preload stylesheet" as=style><link rel=icon href=https://oopsdc.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://oopsdc.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://oopsdc.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://oopsdc.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://oopsdc.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.83.1"><meta property="og:title" content="博客搭建"><meta property="og:description" content="博客搭建 hugo hugo官方网站
需求准备： 软件包管理工具
  Hugo:Releases · gohugoio/hugo (github.com)
安装步骤 1.解压压缩包
2.配置环境变量
D:\Env\hugo_0.83.1 3.初始化博客
先上官方安装文档，避免踩坑：Installation · adityatelange/hugo-PaperMod Wiki (github.com)
官方文档推荐我们使用易读性更高的yml初始化博客
hugo new site <name of site> -f yml 4.选择主题:Complete List | Hugo Themes (gohugo.io)
5.在config.yml文件中指定主题，此处以PaperMod为例
theme: PaperMod6.启动服务，本地查看效果
hugo server7.创建仓库，详见之后的hexo主题教学
8.将config.yml中的baseUrl修改为自己创建的仓库
baseURL: &#34;https://<username>.github.io/&#34;9.在网站文件夹根目录下打开cmd命令行，生成public文件夹
hugo10.切换到public文件夹，把所有文件push到GitHub即可
11.链接到远程服务器代码仓库并push到GitHub，由于现在的GitHub默认为main分支了，我们需要先进行修改
# 配置代理 git config --global http.proxy socks5://127.0.0.1:port git config --global https.proxy socks5://127.0.0.1:port # 更改默认分支 git push -u origin main # push文件 cd public git init git add ."><meta property="og:type" content="article"><meta property="og:url" content="https://oopsdc.github.io/post/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"><meta property="og:image" content="https://oopsdc.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-06-12T22:20:50+08:00"><meta property="article:modified_time" content="2021-06-12T22:20:50+08:00"><meta property="og:site_name" content="Atmet"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://oopsdc.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="博客搭建"><meta name=twitter:description content="博客搭建 hugo hugo官方网站
需求准备： 软件包管理工具
  Hugo:Releases · gohugoio/hugo (github.com)
安装步骤 1.解压压缩包
2.配置环境变量
D:\Env\hugo_0.83.1 3.初始化博客
先上官方安装文档，避免踩坑：Installation · adityatelange/hugo-PaperMod Wiki (github.com)
官方文档推荐我们使用易读性更高的yml初始化博客
hugo new site <name of site> -f yml 4.选择主题:Complete List | Hugo Themes (gohugo.io)
5.在config.yml文件中指定主题，此处以PaperMod为例
theme: PaperMod6.启动服务，本地查看效果
hugo server7.创建仓库，详见之后的hexo主题教学
8.将config.yml中的baseUrl修改为自己创建的仓库
baseURL: &#34;https://<username>.github.io/&#34;9.在网站文件夹根目录下打开cmd命令行，生成public文件夹
hugo10.切换到public文件夹，把所有文件push到GitHub即可
11.链接到远程服务器代码仓库并push到GitHub，由于现在的GitHub默认为main分支了，我们需要先进行修改
# 配置代理 git config --global http.proxy socks5://127.0.0.1:port git config --global https.proxy socks5://127.0.0.1:port # 更改默认分支 git push -u origin main # push文件 cd public git init git add ."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://oopsdc.github.io/post/"},{"@type":"ListItem","position":2,"name":"博客搭建","item":"https://oopsdc.github.io/post/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"博客搭建","name":"博客搭建","description":"博客搭建 hugo hugo官方网站\n需求准备： 软件包管理工具\n  Hugo:Releases · gohugoio/hugo (github.com)\n安装步骤 1.解压压缩包\n2.配置环境变量\nD:\\Env\\hugo_0.83.1 3.初始化博客\n先上官方安装文档，避免踩坑：Installation · adityatelange/hugo-PaperMod Wiki (github.com)\n官方文档推荐我们使用易读性更高的yml初始化博客\nhugo new site \u0026lt;name of site\u0026gt; -f yml 4.选择主题:Complete List | Hugo Themes (gohugo.io)\n5.在config.yml文件中指定主题，此处以PaperMod为例\ntheme: PaperMod\r6.启动服务，本地查看效果\nhugo server\r7.创建仓库，详见之后的hexo主题教学\n8.将config.yml中的baseUrl修改为自己创建的仓库\nbaseURL: \u0026quot;https://\u0026lt;username\u0026gt;.github.io/\u0026quot;\r9.在网站文件夹根目录下打开cmd命令行，生成public文件夹\nhugo\r10.切换到public文件夹，把所有文件push到GitHub即可\n11.链接到远程服务器代码仓库并push到GitHub，由于现在的GitHub默认为main分支了，我们需要先进行修改\n# 配置代理 git config --global http.proxy socks5://127.0.0.1:port git config --global https.proxy socks5://127.0.0.1:port # 更改默认分支 git push -u origin main # push文件 cd public git init git add .","keywords":["Daily"],"articleBody":"博客搭建 hugo hugo官方网站\n需求准备： 软件包管理工具\n  Hugo:Releases · gohugoio/hugo (github.com)\n安装步骤 1.解压压缩包\n2.配置环境变量\nD:\\Env\\hugo_0.83.1 3.初始化博客\n先上官方安装文档，避免踩坑：Installation · adityatelange/hugo-PaperMod Wiki (github.com)\n官方文档推荐我们使用易读性更高的yml初始化博客\nhugo new site -f yml 4.选择主题:Complete List | Hugo Themes (gohugo.io)\n5.在config.yml文件中指定主题，此处以PaperMod为例\ntheme: PaperMod\r6.启动服务，本地查看效果\nhugo server\r7.创建仓库，详见之后的hexo主题教学\n8.将config.yml中的baseUrl修改为自己创建的仓库\nbaseURL: \"https://.github.io/\"\r9.在网站文件夹根目录下打开cmd命令行，生成public文件夹\nhugo\r10.切换到public文件夹，把所有文件push到GitHub即可\n11.链接到远程服务器代码仓库并push到GitHub，由于现在的GitHub默认为main分支了，我们需要先进行修改\n# 配置代理 git config --global http.proxy socks5://127.0.0.1:port git config --global https.proxy socks5://127.0.0.1:port # 更改默认分支 git push -u origin main # push文件 cd public git init git add . git remote add origin https://github.com//.github.io.git git commit -m \"first commit\" git push -u origin main 12.更新博客\n# 先重新生成一下public文件夹 hugo # 重新push到GitHub cd public/ git init git add . git commit -m \"修改内容\" git push -u origin main 将上述命令结合起来，写一个bash脚本方便后期的更新，脚本放在博客根目录下，如脚本命名为deploy.sh，需要更新时直接在git bash下执行./deploy.sh命令即可。\n 在写好bash脚本后，记得使用chmod + x deploy.sh给脚本添加运行权限\n # !/bin/bash hugo cd public git add -A \u0026\u0026 git commit -m \"update\" \u0026\u0026 git push -u origin main 日常排错 在push的时候报错了，报错如下：\n ! [rejected] main - main (fetch first)\rerror: failed to push some refs to 'https://github.com/oopsdc/oopsdc.github.io.git'\rhint: Updates were rejected because the remote contains work that you do\rhint: not have locally. This is usually caused by another repository pushing\rhint: to the same ref. You may want to first integrate the remote changes\rhint: (e.g., 'git pull ...') before pushing again.\rhint: See the 'Note about fast-forwards' in 'git push --help' for details.\r出错原因：\nGitHub中有文件不在本地代码目录中\n解决方案：\n# 进行代码合并\rgit pull --rebase origin main\r  hexo 需求准备： git\nnodejs\n连接GitHub  为方便后续操作，之后的命令使用gitbash，空白处右键即可打开gitbash\n 配置个人信息 生成SSH 该命令会在用户文件夹下的.ssh文件夹生成id_rsa和id_rsa.pub文件，前者为私钥，后者为公钥。接下来我们把公钥提交到GitHub。\n登录GitHub\n自己取一个合适的名称，把刚刚cat看到的内容粘贴进去。\n完成上述步骤后查看连接是否成功。\n创建博客仓库 博客部署 安装hexo 初始化博客文件夹 本地初始化 我们可以看到博客启动成功，接下来我们就换主题。\n这里使用yun主题。\n 项目官网 GitHub项目地址  下载后把文件解压缩放在这个地址，解压缩后的文件名为yun：\n然后修改博客根目录下的_config.yml文件，自定义主题，此处填写的主题名就是我们刚刚解压缩的文件夹名称。\nCtrll+F搜索theme，然后进行修改。\n完成上述步骤后，我们返回gitbash，Ctrl+C结束当前调试，重新运行本地文件。\n刷新网页后看到了这个报错，按照提示安装hexo-render-pug即可。\n在安装过程中还有了其它提醒：\n我们依次进行解决。\n安装完成后依旧报错。\n查了资料，不缺插件，文件夹也是正确的，实在不知道什么错，就在_config.yml和theme下分别把yun和yun文件夹都改为了theme-yun，然后正常运行。但是改回yun又会报错…先暂时不讨论这个问题了。\n这就是博客初始页面。\n剩下的完全可以按照官方文档自己操作，自定义想要的功能。\n官方文档\n修改完且本地测试无误后，我们就可以正式把博客发布到GitHub上了。\n首先还是编辑根目录下的_config.yml文件，直接翻到最后。\n部署博客 部署博客需要使用命令hexo deploy，但需要安装对应平台的插件。\n以GitHub为例，安装如下：\n我们的本地测试没有问题时，即可部署，部署时建议先清除以往数据并重新生成，避免未知错误。\n配置域名 如果想映射域名的话，需要先自己注册一个，腾讯云阿里云华为云均可购买，此处不详解了。我直接在\n这个目录下建了一个CNAME文件，没有后缀!!!。文件内容如下：\n优化访问 CDN加速 由于博客部署在GitHub，访问极不稳定，所以使用了Cloudflare的服务。\ndnspod 在GitHub部署好博客后，可直接把项目导入到Gitee中，生成Gitee pages。dnspod设置将国内指向Gitee，国外指向GitHub。\nhexo常用命令 升级hexo 创建文章\u0026页面 错误合集  博客部署中出现的错误都集合在这里。\n 部署报错 问题描述：本地测试毫无问题，但是部署时反复报错，以下列出我尝试的解决方案。\n 方法一\n 删除博客根目录文件下的.deploy-git文件夹，然后重新部署。\nhexo clean \u0026\u0026 hexo g -d  方法二\n 检查自己提交的分支是否和GitHub上的仓库分支一致。\n 方法三\n 网上能搜的我都搜了…然后试了试特仑苏大佬说的挂个代理。因为本地部署没问题，问题只可能出在网络上。\n上gitbash。\n10808端口是v2ray的默认端口，具体的可以在参数设置里面查看。\n至此，博客成功部署。\nPicGo+Gitee构建图床 用Typora写博客需要图床，图片放在GitHub加载太慢(最近在学校经常被墙)。\n需求准备：\n PicGo Gitee Typora  PicGo\u0026Gitee配置 一路安装即可，如需更改路径请自行选择，接下来以PicGo.app为例，版本2.2.2。\n我们首先安装对应插件。\n安装好之后进入PicGo设置，勾选gitee选项。\n下一步进入图床设置下的gitee，我的设置如图。\n填写完以上参数后，我们首先创建对应仓库。\n此处我是填写了二级文件夹的，那么我们就需要创建对应文件夹。\n最后就是token申请，(注：token只会在申请时显示一次，若此处未复制token则只能重新申请)：\n走到这里的话，我们已经能通过PicGo上传图片到Gitee对应仓库了。\nTypora配置 首先附上官方文档，不论做什么，查看官方文档都是一个好习惯。\n打开Typora，进入偏好设置。\n至此，在Typora插入图片时就会自动上传到GItee仓库图床。\n","wordCount":"313","inLanguage":"en","datePublished":"2021-06-12T22:20:50+08:00","dateModified":"2021-06-12T22:20:50+08:00","author":{"@type":"Person","name":"DaChui"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://oopsdc.github.io/post/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"},"publisher":{"@type":"Organization","name":"Atmet","logo":{"@type":"ImageObject","url":"https://oopsdc.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://oopsdc.github.io/ accesskey=h title="Home (Alt + H)">Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://oopsdc.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://oopsdc.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://oopsdc.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://oopsdc.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://oopsdc.github.io/post/>Posts</a></div><h1 class=post-title>博客搭建</h1><div class=post-meta>June 12, 2021&nbsp;·&nbsp;2 min&nbsp;·&nbsp;DaChui</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#%e5%8d%9a%e5%ae%a2%e6%90%ad%e5%bb%ba aria-label=博客搭建>博客搭建</a><ul><li><a href=#hugo aria-label=hugo>hugo</a><ul><li><a href=#%e9%9c%80%e6%b1%82%e5%87%86%e5%a4%87 aria-label=需求准备：>需求准备：</a></li><li><a href=#%e5%ae%89%e8%a3%85%e6%ad%a5%e9%aa%a4 aria-label=安装步骤>安装步骤</a></li><li><a href=#%e6%97%a5%e5%b8%b8%e6%8e%92%e9%94%99 aria-label=日常排错>日常排错</a></li></ul></li><li><a href=#hexo aria-label=hexo>hexo</a><ul><li><a href=#%e9%9c%80%e6%b1%82%e5%87%86%e5%a4%87-1 aria-label=需求准备：>需求准备：</a></li><li><a href=#%e8%bf%9e%e6%8e%a5github aria-label=连接GitHub>连接GitHub</a><ul><li><a href=#%e9%85%8d%e7%bd%ae%e4%b8%aa%e4%ba%ba%e4%bf%a1%e6%81%af aria-label=配置个人信息>配置个人信息</a></li><li><a href=#%e7%94%9f%e6%88%90ssh aria-label=生成SSH>生成SSH</a></li><li><a href=#%e5%88%9b%e5%bb%ba%e5%8d%9a%e5%ae%a2%e4%bb%93%e5%ba%93 aria-label=创建博客仓库>创建博客仓库</a></li></ul></li><li><a href=#%e5%8d%9a%e5%ae%a2%e9%83%a8%e7%bd%b2 aria-label=博客部署>博客部署</a><ul><li><a href=#%e5%ae%89%e8%a3%85hexo aria-label=安装hexo>安装hexo</a></li><li><a href=#%e5%88%9d%e5%a7%8b%e5%8c%96%e5%8d%9a%e5%ae%a2%e6%96%87%e4%bb%b6%e5%a4%b9 aria-label=初始化博客文件夹>初始化博客文件夹</a></li><li><a href=#%e6%9c%ac%e5%9c%b0%e5%88%9d%e5%a7%8b%e5%8c%96 aria-label=本地初始化>本地初始化</a></li><li><a href=#%e9%83%a8%e7%bd%b2%e5%8d%9a%e5%ae%a2 aria-label=部署博客>部署博客</a></li><li><a href=#%e9%85%8d%e7%bd%ae%e5%9f%9f%e5%90%8d aria-label=配置域名>配置域名</a></li></ul></li><li><a href=#%e4%bc%98%e5%8c%96%e8%ae%bf%e9%97%ae aria-label=优化访问>优化访问</a><ul><li><a href=#cdn%e5%8a%a0%e9%80%9f aria-label=CDN加速>CDN加速</a></li><li><a href=#dnspod aria-label=dnspod>dnspod</a></li></ul></li><li><a href=#hexo%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4 aria-label=hexo常用命令>hexo常用命令</a><ul><li><a href=#%e5%8d%87%e7%ba%a7hexo aria-label=升级hexo>升级hexo</a></li><li><a href=#%e5%88%9b%e5%bb%ba%e6%96%87%e7%ab%a0%e9%a1%b5%e9%9d%a2 aria-label=创建文章&amp;amp;页面>创建文章&页面</a></li></ul></li></ul></li><li><a href=#%e9%94%99%e8%af%af%e5%90%88%e9%9b%86 aria-label=错误合集>错误合集</a><ul><li><a href=#%e9%83%a8%e7%bd%b2%e6%8a%a5%e9%94%99 aria-label=部署报错>部署报错</a></li></ul></li></ul></li><li><a href=#picgogitee%e6%9e%84%e5%bb%ba%e5%9b%be%e5%ba%8a aria-label=PicGo+Gitee构建图床>PicGo+Gitee构建图床</a><ul><li><a href=#picgogitee%e9%85%8d%e7%bd%ae aria-label=PicGo&amp;amp;Gitee配置>PicGo&Gitee配置</a></li><li><a href=#typora%e9%85%8d%e7%bd%ae aria-label=Typora配置>Typora配置</a></li></ul></li></ul></div></details></div><div class=post-content><h1 id=博客搭建>博客搭建<a hidden class=anchor aria-hidden=true href=#博客搭建>#</a></h1><h2 id=hugo>hugo<a hidden class=anchor aria-hidden=true href=#hugo>#</a></h2><p><a href=https://gohugo.io/getting-started/>hugo官方网站</a></p><h3 id=需求准备>需求准备：<a hidden class=anchor aria-hidden=true href=#需求准备>#</a></h3><p>软件包管理工具</p><ul><li><p>Hugo:<a href=https://github.com/gohugoio/hugo/releases>Releases · gohugoio/hugo (github.com)</a></p><h3 id=安装步骤>安装步骤<a hidden class=anchor aria-hidden=true href=#安装步骤>#</a></h3><p>1.解压压缩包</p><p>2.配置环境变量</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>D:<span style=color:#ae81ff>\E</span>nv<span style=color:#ae81ff>\h</span>ugo_0.83.1
</code></pre></div><p>3.初始化博客</p><p>先上官方安装文档，避免踩坑：<a href=https://github.com/adityatelange/hugo-PaperMod/wiki/Installation>Installation · adityatelange/hugo-PaperMod Wiki (github.com)</a></p><p>官方文档推荐我们使用易读性更高的yml初始化博客</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>hugo new site &lt;name of site&gt; -f yml
</code></pre></div><p>4.选择主题:<a href=https://themes.gohugo.io/>Complete List | Hugo Themes (gohugo.io)</a></p><p>5.在<code>config.yml</code>文件中指定主题，此处以<code>PaperMod</code>为例</p><pre><code>theme: PaperMod
</code></pre><p>6.启动服务，本地查看效果</p><pre><code>hugo server
</code></pre><p>7.创建仓库，详见之后的hexo主题教学</p><p>8.将<code>config.yml</code>中的baseUrl修改为自己创建的仓库</p><pre><code>baseURL: &quot;https://&lt;username&gt;.github.io/&quot;
</code></pre><p>9.在网站文件夹根目录下打开<code>cmd</code>命令行，生成<code>public</code>文件夹</p><pre><code>hugo
</code></pre><p>10.切换到<code>public</code>文件夹，把所有文件<code>push</code>到GitHub即可</p><p>11.链接到远程服务器代码仓库并<code>push</code>到<code>GitHub</code>，由于现在的<code>GitHub</code>默认为<code>main</code>分支了，我们需要先进行修改</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 配置代理</span>
git config --global http.proxy socks5://127.0.0.1:port
git config --global https.proxy socks5://127.0.0.1:port

<span style=color:#75715e># 更改默认分支</span>
git push -u origin main

<span style=color:#75715e># push文件</span>
cd public
git init
git add .
git remote add origin https://github.com/&lt;username&gt;/&lt;username&gt;.github.io.git
git commit -m <span style=color:#e6db74>&#34;first commit&#34;</span>
git push -u origin main
</code></pre></div><p>12.更新博客</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 先重新生成一下public文件夹</span>
hugo

<span style=color:#75715e># 重新push到GitHub</span>
cd public/
git init
git add .
git commit -m <span style=color:#e6db74>&#34;修改内容&#34;</span>
git push -u origin main
</code></pre></div><p>将上述命令结合起来，写一个<code>bash</code>脚本方便后期的更新，脚本放在博客根目录下，如脚本命名为<code>deploy.sh</code>，需要更新时直接在<code>git bash</code>下执行<code>./deploy.sh</code>命令即可。</p><blockquote><p>在写好bash脚本后，记得使用chmod + x deploy.sh给脚本添加运行权限</p></blockquote><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># !/bin/bash</span>
hugo
cd public
git add -A <span style=color:#f92672>&amp;&amp;</span> git commit -m <span style=color:#e6db74>&#34;update&#34;</span> <span style=color:#f92672>&amp;&amp;</span> git push -u origin main
</code></pre></div><h3 id=日常排错>日常排错<a hidden class=anchor aria-hidden=true href=#日常排错>#</a></h3><p>在<code>push</code>的时候报错了，报错如下：</p><pre><code> ! [rejected]        main -&gt; main (fetch first)
error: failed to push some refs to 'https://github.com/oopsdc/oopsdc.github.io.git'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
</code></pre><p>出错原因：</p><p>GitHub中有文件不在本地代码目录中</p><p>解决方案：</p><pre><code># 进行代码合并
git pull --rebase origin main
</code></pre></li></ul><h2 id=hexo>hexo<a hidden class=anchor aria-hidden=true href=#hexo>#</a></h2><h3 id=需求准备-1>需求准备：<a hidden class=anchor aria-hidden=true href=#需求准备-1>#</a></h3><p><a href=https://git-scm.com/>git</a></p><p><a href=http://nodejs.cn/>nodejs</a></p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311170957713.png alt=image-20210311170957713></p><h3 id=连接github>连接GitHub<a hidden class=anchor aria-hidden=true href=#连接github>#</a></h3><blockquote><p>为方便后续操作，之后的命令使用gitbash，空白处右键即可打开gitbash</p></blockquote><h4 id=配置个人信息>配置个人信息<a hidden class=anchor aria-hidden=true href=#配置个人信息>#</a></h4><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171147276.png alt=image-20210311171147276></p><h4 id=生成ssh>生成SSH<a hidden class=anchor aria-hidden=true href=#生成ssh>#</a></h4><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171206303.png alt=image-20210311171206303></p><p>该命令会在用户文件夹下的<code>.ssh</code>文件夹生成<code>id_rsa</code>和<code>id_rsa.pub</code>文件，前者为私钥，后者为公钥。接下来我们把公钥提交到GitHub。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171226629.png alt=image-20210311171226629></p><p>登录<a href=https://github.com/>GitHub</a></p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210310223458853.png alt=image-20210310223458853></p><p>自己取一个合适的名称，把刚刚<code>cat</code>看到的内容粘贴进去。</p><p>完成上述步骤后查看连接是否成功。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171242543.png alt=image-20210311171242543></p><h4 id=创建博客仓库>创建博客仓库<a hidden class=anchor aria-hidden=true href=#创建博客仓库>#</a></h4><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210310223914929.png alt=image-20210310223914929></p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210310223854139.png alt=image-20210310223854139></p><h3 id=博客部署>博客部署<a hidden class=anchor aria-hidden=true href=#博客部署>#</a></h3><h4 id=安装hexo>安装hexo<a hidden class=anchor aria-hidden=true href=#安装hexo>#</a></h4><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171257131.png alt=image-20210311171257131></p><h4 id=初始化博客文件夹>初始化博客文件夹<a hidden class=anchor aria-hidden=true href=#初始化博客文件夹>#</a></h4><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171314558.png alt=image-20210311171314558></p><h4 id=本地初始化>本地初始化<a hidden class=anchor aria-hidden=true href=#本地初始化>#</a></h4><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171330483.png alt=image-20210311171330483></p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311130155259.png alt=image-20210311130155259></p><p>我们可以看到博客启动成功，接下来我们就换主题。</p><p>这里使用<code>yun</code>主题。</p><ul><li><a href=https://yun.yunyoujun.cn/>项目官网</a></li><li><a href=https://github.com/YunYouJun/hexo-theme-yun>GitHub项目地址</a></li></ul><p>下载后把文件解压缩放在这个地址，解压缩后的文件名为<code>yun</code>：</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311130514341.png alt=image-20210311130514341></p><p>然后修改博客根目录下的<code>_config.yml</code>文件，自定义主题，此处填写的主题名就是我们刚刚解压缩的文件夹名称。</p><p><code>Ctrll+F</code>搜索<code>theme</code>，然后进行修改。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311130800316.png alt=image-20210311130800316></p><p>完成上述步骤后，我们返回gitbash，<code>Ctrl+C</code>结束当前调试，重新运行本地文件。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311131007443.png alt=image-20210311131007443></p><p>刷新网页后看到了这个报错，按照提示安装<code>hexo-render-pug</code>即可。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171349503.png alt=image-20210311171349503></p><p>在安装过程中还有了其它提醒：</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171414854.png alt=image-20210311171414854></p><p>我们依次进行解决。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171425696.png alt=image-20210311171425696></p><p>安装完成后依旧报错。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171436138.png alt=image-20210311171436138></p><p>查了资料，不缺插件，文件夹也是正确的，实在不知道什么错，就在<code>_config.yml</code>和<code>theme</code>下分别把<code>yun</code>和<code>yun</code>文件夹都改为了<code>theme-yun</code>，然后正常运行。但是改回<code>yun</code>又会报错&mldr;先暂时不讨论这个问题了。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311133420464.png alt=image-20210311133420464></p><p>这就是博客初始页面。</p><p>剩下的完全可以按照官方文档自己操作，自定义想要的功能。</p><p><a href=https://yun.yunyoujun.cn/>官方文档</a></p><p>修改完且本地测试无误后，我们就可以正式把博客发布到GitHub上了。</p><p>首先还是编辑根目录下的<code>_config.yml</code>文件，直接翻到最后。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171456488.png alt=image-20210311171456488></p><h4 id=部署博客>部署博客<a hidden class=anchor aria-hidden=true href=#部署博客>#</a></h4><p>部署博客需要使用命令<code>hexo deploy</code>，但需要安装对应平台的插件。</p><p>以GitHub为例，安装如下：</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171546645.png alt=image-20210311171546645></p><p>我们的本地测试没有问题时，即可部署，部署时建议先清除以往数据并重新生成，避免未知错误。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210313125754073.png alt=image-20210313125754073></p><h4 id=配置域名>配置域名<a hidden class=anchor aria-hidden=true href=#配置域名>#</a></h4><p>如果想映射域名的话，需要先自己注册一个，腾讯云阿里云华为云均可购买，此处不详解了。我直接在</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311134234491.png alt=image-20210311134234491></p><p>这个目录下建了一个<code>CNAME</code>文件，<strong>没有后缀!!!</strong>。文件内容如下：</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171516829.png alt=image-20210311171516829></p><h3 id=优化访问>优化访问<a hidden class=anchor aria-hidden=true href=#优化访问>#</a></h3><h4 id=cdn加速>CDN加速<a hidden class=anchor aria-hidden=true href=#cdn加速>#</a></h4><p>由于博客部署在GitHub，访问极不稳定，所以使用了Cloudflare的服务。</p><h4 id=dnspod>dnspod<a hidden class=anchor aria-hidden=true href=#dnspod>#</a></h4><p>在GitHub部署好博客后，可直接把项目导入到Gitee中，生成Gitee pages。dnspod设置将国内指向Gitee，国外指向GitHub。</p><h3 id=hexo常用命令>hexo常用命令<a hidden class=anchor aria-hidden=true href=#hexo常用命令>#</a></h3><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171531218.png alt=image-20210311171531218></p><h4 id=升级hexo>升级hexo<a hidden class=anchor aria-hidden=true href=#升级hexo>#</a></h4><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171603614.png alt=image-20210311171603614></p><h4 id=创建文章页面>创建文章&页面<a hidden class=anchor aria-hidden=true href=#创建文章页面>#</a></h4><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210313125654529.png alt=image-20210313125654529></p><h2 id=错误合集>错误合集<a hidden class=anchor aria-hidden=true href=#错误合集>#</a></h2><blockquote><p>博客部署中出现的错误都集合在这里。</p></blockquote><h3 id=部署报错>部署报错<a hidden class=anchor aria-hidden=true href=#部署报错>#</a></h3><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210312124831061.png alt=image-20210312124831061></p><p>问题描述：本地测试毫无问题，但是部署时反复报错，以下列出我尝试的解决方案。</p><blockquote><p>方法一</p></blockquote><p>删除博客根目录文件下的<code>.deploy-git</code>文件夹，然后重新部署。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>hexo clean <span style=color:#f92672>&amp;&amp;</span> hexo g -d
</code></pre></div><blockquote><p>方法二</p></blockquote><p>检查自己提交的分支是否和GitHub上的仓库分支一致。</p><blockquote><p>方法三</p></blockquote><p>网上能搜的我都搜了&mldr;然后试了试特仑苏大佬说的挂个代理。<strong>因为本地部署没问题，问题只可能出在网络上。</strong></p><p>上gitbash。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210312125434590.png alt=image-20210312125434590></p><p>10808端口是v2ray的默认端口，具体的可以在参数设置里面查看。</p><p>至此，博客成功部署。</p><h1 id=picgogitee构建图床>PicGo+Gitee构建图床<a hidden class=anchor aria-hidden=true href=#picgogitee构建图床>#</a></h1><p>用Typora写博客需要图床，图片放在GitHub加载太慢(<del>最近在学校经常被墙</del>)。</p><p>需求准备：</p><ul><li><a href=https://molunerfinn.com/>PicGo</a></li><li><a href=https://gitee.com/>Gitee</a></li><li><a href=https://www.typora.io/>Typora</a></li></ul><h2 id=picgogitee配置>PicGo&Gitee配置<a hidden class=anchor aria-hidden=true href=#picgogitee配置>#</a></h2><p>一路安装即可，如需更改路径请自行选择，接下来以<code>PicGo.app</code>为例，版本<code>2.2.2</code>。</p><p>我们首先安装对应插件。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210309211657248.png alt=image-20210309211657248></p><p>安装好之后进入<code>PicGo设置</code>，勾选<code>gitee</code>选项。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210309211730847.png alt=image-20210309211730847></p><p>下一步进入<code>图床设置</code>下的<code>gitee</code>，我的设置如图。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210309211940010.png alt=image-20210309211940010></p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210311171624218.png alt=image-20210311171624218></p><p>填写完以上参数后，我们首先创建对应仓库。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210309213317355.png alt=image-20210309213317355></p><p>此处我是填写了二级文件夹的，那么我们就需要创建对应文件夹。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210309213452611.png alt=image-20210309213452611></p><p>最后就是<code>token</code>申请，(注：<strong>token只会在申请时显示一次，若此处未复制token则只能重新申请</strong>)：</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210309212528912.png alt=image-20210309212528912></p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210309212603649.png alt=image-20210309212603649></p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210309212647029.png alt=image-20210309212647029></p><p>走到这里的话，我们已经能通过<code>PicGo</code>上传图片到Gitee对应仓库了。</p><h2 id=typora配置>Typora配置<a hidden class=anchor aria-hidden=true href=#typora配置>#</a></h2><p>首先附上<a href=https://support.typora.io/Upload-Image/>官方文档</a>，不论做什么，查看官方文档都是一个好习惯。</p><p>打开<code>Typora</code>，进入偏好设置。</p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210309213631153.png alt=image-20210309213631153></p><p><img loading=lazy src=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/image-20210309213732415.png alt=image-20210309213732415></p><p>至此，在Typora插入图片时就会自动上传到GItee仓库图床。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://oopsdc.github.io/tags/daily/>Daily</a></li></ul><nav class=paginav><a class=next href=https://oopsdc.github.io/post/xss-challenges/><span class=title>Next Page »</span><br><span>XSS Challenges</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://oopsdc.github.io/>Atmet</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>